extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
  +alert-error(5000)
  +alert-success(5000)
  h1(class="mb-4") Phan quyen

  div(data-records=records)
  if(records)
    div(class="text-right")
      button(
        type="submit"
        class="btn btn-primary mb-3"
        button-submit
      ) Cap nhat
    
    table(
      class="table mb-3"
      table-permissions
    )
      thead 
        tr 
          th Tinh nang 
          each item in records
            th(class="text-center") #{item.title}
      tbody 
        tr(data-name= "id" class="d-none")
          td 
            each item in records 
              td(class="text-center")
                input(type="text" value=item.id)
        tr 
          td(col-span="4")
            b Danh muc san pham 
        tr(data-name= "product-category_view")
          td Xem
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product-category_create")
          td Them moi 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product-category_edit")
          td Chinh sua 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product-category_delete")
          td Xoa 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr 
          td(col-span="4")
            b  San pham 
        tr(data-name= "product_view")
          td Xem
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product_create")
          td Them moi 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product_edit")
          td Chinh sua 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "product_delete")
          td Xoa 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr 
          td(col-span="4")
            b  Nhom quyen 
        tr(data-name= "role_view")
          td Xem
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "role_create")
          td Them moi 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "role_edit")
          td Chinh sua 
          each item in records
            td(class="text-center") 
              input(type="checkbox")
        tr(data-name= "role_delete")
          td Xoa 
          each item in records
            td(class="text-center") 
              input(type="checkbox")  
        tr(data-name= "role_permissions")
          td Phan quyen 
          each item in records
            td(class="text-center") 
              input(type="checkbox")  
  form(
    id ="form-change-permissions"
    method="POST"
    action= `${prefixAdmin}/roles/permissions?_method=PATCH`
    
  )
    div(class="form-group")
      input(
        type="text"
        class="form-control"
        name="permissions"
        class="d-none"
      )


  script(src="/admin/js/roles.js")